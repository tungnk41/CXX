@startuml Led Brightness Control
participant Apps_Services
participant HMIManager
participant HMIManagerService
participant HMI_Variant_Observer
participant HMIVariantImpl
participant HMIVariantImplHandler
participant commReceiver
participant ICommunicationManagerService

activate Apps_Services
Apps_Services -> HMIManager: setLedOnOff(const uint32_t, const bool): error_t
note left: 1 byte: brightnessID

activate HMIManager
HMIManager -> HMIManagerService: setLedOnOff(const uint32_t, const bool): error_t

activate HMIManagerService
HMIManagerService -> HMIVariantImpl: setLEDOn(const uint32_t): error_t

activate HMIVariantImpl
HMIVariantImpl -> HMIVariantImpl: requestControlLedBrightness(uint32_t): error_t
HMIVariantImpl -> HMIVariantImpl: hmiSendData(android::sp<CommunicationData>&): error_t

activate ICommunicationManagerService
HMIVariantImpl -> ICommunicationManagerService : sendDataToMcu(android::sp<CommunicationData>&): error_t

activate commReceiver
ICommunicationManagerService --> commReceiver: onReceive(android::sp<CommunicationData>&): error_t
deactivate ICommunicationManagerService

activate HMIVariantImplHandler
commReceiver --> HMIVariantImplHandler: handleMessage(MSG_ON_HAL_RECEIVED)
deactivate commReceiver
HMIVariantImplHandler --> HMIVariantImpl: onCommReceive(android::sp<CommunicationData>&)
note left: Receiver MCU response
deactivate HMIVariantImplHandler
deactivate HMIVariantImpl

@enduml
